(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{272:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"babel、module、webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel、module、webpack"}},[t._v("#")]),t._v(" Babel、Module、Webpack")]),t._v(" "),a("blockquote",[a("p",[t._v("关键字：tree-shaking webpack babel transform-runtime")])]),t._v(" "),a("h2",{attrs:{id:"相关背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关背景"}},[t._v("#")]),t._v(" 相关背景")]),t._v(" "),a("p",[t._v("现代化的业务前端项目里现在主流的是在用webpack做构建，但是由于webpack4之前官方文档的不完善，加上相关技术栈的多样，导致webpack配置一直是前端界的一块难啃的鸡肋。")]),t._v(" "),a("ul",[a("li",[t._v("项目融资已经到位，就差一名首席Webpack 配置工程师了")])]),t._v(" "),a("p",[t._v("项目背景如下：")]),t._v(" "),a("ol",[a("li",[t._v("有一个webpack构建的项目")]),t._v(" "),a("li",[t._v("使用babel做JS代码转译")]),t._v(" "),a("li",[t._v("项目中有混用ESModule，CommonJSModule的行为")]),t._v(" "),a("li",[t._v("想开启webpack的tree-shaking")])]),t._v(" "),a("h2",{attrs:{id:"技术分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#技术分析"}},[t._v("#")]),t._v(" 技术分析")]),t._v(" "),a("h3",{attrs:{id:"_1-为什么要tree-shaking？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-为什么要tree-shaking？"}},[t._v("#")]),t._v(" 1. 为什么要tree-shaking？")]),t._v(" "),a("p",[t._v("一是可以减少代码体积，二是为了方便定位问题")]),t._v(" "),a("h3",{attrs:{id:"_2-tree-shaking的原理是什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-tree-shaking的原理是什么？"}},[t._v("#")]),t._v(" 2. tree-shaking的原理是什么？")]),t._v(" "),a("p",[t._v("在webpack中，基于ES2015 模块（也叫做 "),a("strong",[t._v("harmony")]),t._v(" 模块）的静态分析能力，也就是说通过静态语法分析，就能找到模块之前的依赖点，进而找出不需要的依赖，在构建阶段就删除不需要的依赖。")]),t._v(" "),a("blockquote",[a("p",[t._v("中文文档："),a("a",{attrs:{href:"https://webpack.docschina.org/guides/tree-shaking/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://webpack.docschina.org/guides/tree-shaking/"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_3-webpack中如何启用tree-shaking？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-webpack中如何启用tree-shaking？"}},[t._v("#")]),t._v(" 3. webpack中如何启用tree-shaking？")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("代码中使用ES2015 模块，在导入时使用按需导入的语法 "),a("code",[t._v("import { foo, bar } from './ESModule';")])])]),t._v(" "),a("li",[a("p",[t._v("webpack默认会进行tree-shaking分析，标记未被使用的导出内容为 "),a("strong",[t._v("unused harmony export")]),t._v("，但是不会删除相关代码")])]),t._v(" "),a("li",[a("p",[t._v("使用uglifyJS等webpack插件会删掉 被webpack标记为 "),a("strong",[t._v("unused harmony export")]),t._v("的代码")])])]),t._v(" "),a("blockquote",[a("p",[t._v("参考例子："),a("a",{attrs:{href:"https://github.com/SmileSmith/Daily/tree/master/examples/webpack/20181201",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/SmileSmith/Daily/tree/master/examples/webpack/20181201"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_4-tree-shaking和babel有什么关系？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-tree-shaking和babel有什么关系？"}},[t._v("#")]),t._v(" 4. tree-shaking和babel有什么关系？")]),t._v(" "),a("p",[t._v("babel是个可以配合webpack的编译器，项目中经常用babel-loader来嵌入babel处理代码。重要的是 "),a("strong",[t._v("babel可能会改变模块类型")]),t._v("，也就是说代码写了import,export语法的ES模块，在Babel处理后会变成CommonJS 的模块。而webapck是无法对动态的CommonJS模块进行语法分析的。")]),t._v(" "),a("p",[t._v("："),a("strong",[t._v("所以如果Babel把ES模块转成CommonJS模块，tree-shaking会失效。")])]),t._v(" "),a("h3",{attrs:{id:"_5-如何避免babel把esmodule转成commonjsmodule呢？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-如何避免babel把esmodule转成commonjsmodule呢？"}},[t._v("#")]),t._v(" 5. 如何避免Babel把ESModule转成CommonJSModule呢？")]),t._v(" "),a("p",[t._v("babel-preset中有一个modules配置，默认是"),a("code",[t._v("'cjs'")]),t._v("，会把ESModule转成CommonJS。如果不想转成Cjs，就配置babel-preset "),a("code",[t._v("modules: false")]),t._v("，以webpack，babelv6，在babel-loader中配置为例：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\.js$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/node_modules/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            use"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    presets"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                                modules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不对module进行转化处理")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stage-2"')]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transform-runtime"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 问题6")]),t._v("\n                    cacheDirectory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("Babel官方文档："),a("a",{attrs:{href:"https://babeljs.io/docs/en/next/babel-preset-env#modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://babeljs.io/docs/en/next/babel-preset-env#modules"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"_6-这个问题是什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-这个问题是什么？"}},[t._v("#")]),t._v(" 6. 这个问题是什么？")]),t._v(" "),a("p",[t._v("在说明这个问题之前，前置两个点")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("babel-plugin-transform-runtime是个解决babel-polyfill问题的插件，会往需要polyfill的模块中 "),a("strong",[t._v("导入")]),t._v(" polyfill代码。Babel官方文档："),a("a",{attrs:{href:"https://babeljs.io/docs/en/next/babel-plugin-transform-runtime",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://babeljs.io/docs/en/next/babel-plugin-transform-runtime"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("现代JS编译器，对于JS模块的解读，如果代码中出现import或者export，它就被当作ESModule。并且，在ESModule中module.exports是保留字，不允许操作，否则会报如下错误")])])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("Cannot assign to "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("read")]),t._v(" only property "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'exports'")]),t._v(" of object "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#<Object>'")]),t._v("\n")])])]),a("p",[t._v("一个奇怪的问题来了，当满足以下条件时，会出现transform-runtime往"),a("strong",[t._v("CommonJS模块中import导入polyfill")]),t._v("的代码导致报错：")]),t._v(" "),a("ol",[a("li",[t._v("使用问题5中所示的Babel配置: "),a("code",[t._v("modules:false && babel-plugin-transform-runtime")])]),t._v(" "),a("li",[t._v("代码有，在ESModule中导入CommonJSModule的行为`")]),t._v(" "),a("li",[t._v("CommonJSModule中有需要polyfill的代码（如直接写Promise）")])]),t._v(" "),a("blockquote",[a("p",[t._v("参考例子："),a("a",{attrs:{href:"https://github.com/SmileSmith/Daily/tree/master/examples/webpack/20181201",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/SmileSmith/Daily/tree/master/examples/webpack/20181201"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("入口模块index中导入CommonJSModule，CommonJSModule中含有原生Promise写法。在Babel处理时，transform\n-runtime会往CommonJSModule中import一段polyfill。导致报错。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("如果没有"),a("code",[t._v("module:false")]),t._v("，transform-runtime往CommonJSModule中导入polyfill会使用reqire的方式，不会报错。但是会导致其它ESModule在webpack中的tree-shaking失效😢")])]),t._v(" "),a("li",[a("p",[t._v("如果没有transform-runtime，就不会有有polyfill导入，CommonJSModule原样输出，被webpack当作CommonJS模块，不会报错。但是没有transform-runtime，想使用新的语法就得用\b全局导入babel-polyfill的方式😢")])])]),t._v(" "),a("h3",{attrs:{id:"_7-鱼和熊掌可以兼得吗？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-鱼和熊掌可以兼得吗？"}},[t._v("#")]),t._v(" 7. 鱼和熊掌可以兼得吗？")]),t._v(" "),a("p",[t._v("可以，在"),a("a",{attrs:{href:"https://github.com/babel/babel/issues/9238",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/babel/babel/issues/9238"),a("OutboundLink")],1),t._v("中babel说明有一个sourceType选项，可以指定babel对待源文件的方式。对于CommonJS模块，指定为"),a("code",[t._v("sourceType: 'script'")]),t._v("，这样transform-runtime在插入\bpolyfill时就会使用require的方式。😋")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/CommonJSModule\\.js$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/node_modules/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            use"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        presets"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                                    modules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commonjs"')]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stage-2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transform-runtime"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        cacheDirectory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// CommonJS规范的使用sourceType: "script"')]),t._v("\n                        sourceType"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script"')]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/(ESModule|index)\\.js$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            exclude"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/node_modules/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            use"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    options"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        presets"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                                    modules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n                                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stage-2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transform-runtime"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        cacheDirectory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// ES规范的使用sourceType: "module"（默认值）')]),t._v("\n                        sourceType"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);