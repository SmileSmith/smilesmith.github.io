(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{232:function(t,s,a){t.exports=a.p+"assets/img/7.f55bbd5e.png"},233:function(t,s,a){t.exports=a.p+"assets/img/6.7fd99528.png"},234:function(t,s,a){t.exports=a.p+"assets/img/3.947f9dac.jpg"},235:function(t,s,a){t.exports=a.p+"assets/img/4.6844779b.jpg"},236:function(t,s,a){t.exports=a.p+"assets/img/5.9998e317.jpg"},276:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"tree-shakingè¿›é˜¶ä¹‹è·¯"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tree-shakingè¿›é˜¶ä¹‹è·¯"}},[t._v("#")]),t._v(" Tree-Shakingè¿›é˜¶ä¹‹è·¯")]),t._v(" "),n("h2",{attrs:{id:"ä¸€ã€ä»€ä¹ˆæ˜¯-tree-shakingï¼Ÿ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€ä»€ä¹ˆæ˜¯-tree-shakingï¼Ÿ"}},[t._v("#")]),t._v(" ä¸€ã€ä»€ä¹ˆæ˜¯ Tree-Shakingï¼Ÿ")]),t._v(" "),n("p",[t._v("åœ¨"),n("a",{attrs:{href:"https://webpack.js.org/guides/tree-shaking/",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpackå®˜æ–¹æ–‡æ¡£"),n("OutboundLink")],1),t._v("çš„å®šä¹‰æ˜¯: Tree-Shaking ç”¨äºç§»é™¤ JavaScript ä¸Šä¸‹æ–‡ä¸­çš„æœªå¼•ç”¨ä»£ç ã€Œdead-codeã€ã€‚åœ¨ webpack ä¸­ï¼ŒåŸºäº ES2015 æ¨¡å—ï¼ˆä¹Ÿå«åš "),n("strong",[t._v("harmony")]),t._v(" æ¨¡å—ï¼‰çš„é™æ€åˆ†æèƒ½åŠ›ï¼Œç¡®å®šæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œè¿›è€Œæ‰¾å‡ºä¸éœ€è¦çš„ä¾èµ–ï¼Œåœ¨æ„å»ºé˜¶æ®µå°±åˆ é™¤ä¸éœ€è¦çš„ä¾èµ–ã€‚")]),t._v(" "),n("p",[t._v("åœ¨å®é™…ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šå¼•å…¥è®¸å¤šnpmåŒ…ï¼Œä¸ºäº†åŠ å¿«ç”¨æˆ·ä¸‹è½½è„šæœ¬çš„å¤§å°å’Œæ—¶é—´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½ä¼šåˆ©ç”¨ Tree-Shaking çš„ç‰¹æ€§æ¥å‡å°æ‰“åŒ…åä»£ç çš„ä½“ç§¯ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(232),alt:"01.No-Tree-Shaking"}})]),t._v(" "),n("p",[n("img",{attrs:{src:a(233),alt:"02.With-Tree-Shaking"}})]),t._v(" "),n("h2",{attrs:{id:"äºŒã€å¦‚ä½•ä½¿ç”¨-tree-shakingï¼Ÿ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€å¦‚ä½•ä½¿ç”¨-tree-shakingï¼Ÿ"}},[t._v("#")]),t._v(" äºŒã€å¦‚ä½•ä½¿ç”¨ Tree-Shakingï¼Ÿ")]),t._v(" "),n("ol",[n("li",[t._v("ä»£ç ä¸­ä½¿ç”¨ ESModuleï¼Œåœ¨å¯¼å…¥æ—¶ä½¿ç”¨æŒ‰éœ€å¯¼å…¥çš„è¯­æ³• "),n("code",[t._v("import { foo, bar } from './ESModule';")])]),t._v(" "),n("li",[t._v("webpackä¸­æ²¡æœ‰ç¼–è¯‘å™¨æŠŠ ESModule è½¬æ¢æˆ CommonJSModule")]),t._v(" "),n("li",[t._v("webpacké»˜è®¤ä¼šè¿›è¡Œ Tree-Shakingï¼Œæ ‡è®°æœªè¢«ä½¿ç”¨çš„å¯¼å‡ºå†…å®¹ä¸º "),n("strong",[t._v("unused harmony export")])]),t._v(" "),n("li",[t._v("é…ç½®uglifyJSç­‰webpackä»£ç å‹ç¼©æ’ä»¶ä¼šåˆ æ‰ è¢«webpackæ ‡è®°ä¸º "),n("strong",[t._v("unused harmony export")]),t._v("çš„ä»£ç ")])]),t._v(" "),n("p",[n("em",[t._v("// webpack@4.xä¸­å·²ç»å¼ƒç”¨å•ç‹¬é…ç½®uglifyJSPluginçš„æ–¹å¼ï¼Œç¬¬4ç‚¹ä¿®æ”¹ä¸ºé…ç½®mode=production")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// in index.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" foo "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./es'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// in webpack.config.js in webpack@2@3")]),t._v("\n    plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UglifyJsPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("sourceMap"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" compress"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("warnings"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// in webpack.config.js in webpack@4")]),t._v("\n    mode"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("h2",{attrs:{id:"ä¸‰ã€tree-shaking-å’Œ-commonjsmodule"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€tree-shaking-å’Œ-commonjsmodule"}},[t._v("#")]),t._v(" ä¸‰ã€Tree-Shaking å’Œ CommonJSModule")]),t._v(" "),n("p",[t._v("åœ¨ä¸Šé¢å·²ç»æåˆ°: Tree-Shaking æ˜¯åŸºäºé™æ€æ¨¡å—åˆ†æçš„ï¼Œå› æ­¤å¯¹äº CommonJS è§„èŒƒçš„JSæ¨¡å—ï¼ŒTree-Shaking ä¸ä¼šç”Ÿæ•ˆï¼Œwebpack åœ¨æ‰“åŒ…æ—¶ä¼šå…¨é‡æ‰“åŒ…è‡³ chunk é‡Œã€‚")]),t._v(" "),n("h2",{attrs:{id:"å››ã€tree-shaking-å’Œ-babelï¼Œé±¼å’Œç†ŠæŒå¯ä»¥å…¼å¾—"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€tree-shaking-å’Œ-babelï¼Œé±¼å’Œç†ŠæŒå¯ä»¥å…¼å¾—"}},[t._v("#")]),t._v(" å››ã€Tree-Shaking å’Œ Babelï¼Œé±¼å’Œç†ŠæŒå¯ä»¥å…¼å¾—")]),t._v(" "),n("p",[t._v("è¿™é‡Œ Babel å’Œ Tree-Shaking åˆæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ")]),t._v(" "),n("p",[t._v("åœ¨å®é™…çš„webä¸šåŠ¡ä¸­ï¼Œæˆ‘ä»¬å¾ˆéš¾è¦æ±‚ç”¨æˆ·ä½¿ç”¨å®Œæ•´æ”¯æŒES6çš„æµè§ˆå™¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåˆ©ç”¨ babel-loader å°†ES6æºç è½¬æ¢æˆæµè§ˆå™¨å¯è§£æçš„JSã€‚")]),t._v(" "),n("p",[t._v("é—®é¢˜çš„ç­”æ¡ˆæ˜¯ babel-preset-env ä¸­æœ‰ä¸€é¡¹é»˜è®¤é…ç½®ï¼š "),n("code",[t._v("module: 'cjs'")]),t._v("ã€‚è¿™é¡¹é…ç½®çš„ä½œç”¨æ˜¯ï¼š"),n("code",[t._v("babelå¯¹ESModuleçš„è½¬æ¢æ–¹å¼")]),t._v("ï¼Œé»˜è®¤çš„cjsä¼šæŠŠæºç ä¸­æ‰€æœ‰çš„ESModuleè½¬æ¢æˆCommonJSModuleï¼ï¼ï¼")]),t._v(" "),n("h3",{attrs:{id:"_4-1-babel-å¯¹-esmodule-æ¨¡å—çš„å¤„ç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-babel-å¯¹-esmodule-æ¨¡å—çš„å¤„ç†"}},[t._v("#")]),t._v(" 4.1 Babel å¯¹ ESModule æ¨¡å—çš„å¤„ç†")]),t._v(" "),n("p",[t._v("é¦–å…ˆï¼Œæ˜¯åŠ¨æ€æ¨¡å—å’Œé™æ€æ¨¡å—çš„é—®é¢˜ï¼Œé™æ€æ¨¡å—å¯ä»¥è½¬æ¢æˆåŠ¨æ€æ¨¡å—ï¼Œåä¹‹åˆ™ä¸èƒ½ã€‚")]),t._v(" "),n("ul",[n("li",[t._v("static(es) --\x3e dynamic(cjs) âœ…")]),t._v(" "),n("li",[t._v("dynamic(cjs) -/-> static(es) âŒ")])]),t._v(" "),n("p",[t._v("babelåœ¨è®¾è®¡æ—¶å¯èƒ½è€ƒè™‘åˆ°äº†è¿™ä¸ªå› ç´ : æ—¢ç„¶ä»£ç ä¸­å¯èƒ½æ··æ‚cjså’Œesï¼Œå¹¶ä¸”cjsä¸èƒ½è½¬æ¢æˆesï¼Œé‚£å°±é»˜è®¤æŠŠæ‰€æœ‰esè½¬æ¢æˆcjsï¼Œå‡†æ²¡é”™ã€‚")]),t._v(" "),n("p",[t._v("æ­¤å¤–ï¼Œbabel-preset-envæä¾›äº†"),n("code",[t._v("module")]),t._v("çš„é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®"),n("code",[t._v("module: false")]),t._v("ï¼Œè®©babelä¸è½¬æ¢ ESModuleï¼Œè¿™æ ·webpackä¸­Tree-Shakingå°±å¯ä»¥æ­£å¸¸å·¥ä½œ")]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-loader"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" modules"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stage-2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("h3",{attrs:{id:"_4-2-cjså’Œesæ··ç”¨å¯¼è‡´-babel-transform-runtime-å¼‚å¸¸"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-cjså’Œesæ··ç”¨å¯¼è‡´-babel-transform-runtime-å¼‚å¸¸"}},[t._v("#")]),t._v(" 4.2 cjså’Œesæ··ç”¨å¯¼è‡´ babel-transform-runtime å¼‚å¸¸")]),t._v(" "),n("p",[t._v("æˆ‘ä»¬çŸ¥é“ï¼ŒBabel åœ¨è½¬æ¢ES5ä»¥ä¸Šçš„è¯­æ³•æ—¶ä¼šéœ€è¦ä¸€äº›polyfillï¼Œæ¯”å¦‚es-classã€‚")]),t._v(" "),n("ul",[n("li",[t._v("å¦‚æœä¸åšç‰¹åˆ«å¤„ç†ï¼ŒBabel ä¼šæŠŠæ¯ä¸ªclasséƒ½è½¬æ¢æˆå®Œæ•´çš„ES5-classå®ç°ï¼Œäº§ç”Ÿå¾ˆå¤šå†—ä½™ä»£ç ")]),t._v(" "),n("li",[t._v("å¦‚æœç”¨å…¨å±€polyfillï¼Œä¼šæ±¡æŸ“å…¨å±€ä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”éœ€è¦æ‰‹åŠ¨éœ€è¦å“ªäº›polyfillï¼Œæ¯”è¾ƒç¹ç")])]),t._v(" "),n("p",[t._v("babel-transform-runtime å¯ä»¥è§£å†³ä¸Šé¢æåˆ°é—®é¢˜ï¼šå®ƒä¼šåœ¨ç”¨åˆ° es-class çš„æ¨¡å—ä¸­ "),n("code",[t._v("import")]),t._v(" ä¸€ä¸ªå…¬å…±çš„ class-helper å®ç°ã€‚è¿™æ ·å°±ä»¥æœ€å°çš„ä½“ç§¯ä»£ä»·ï¼Œåªå½±å“éœ€è¦ polyfill çš„JSæ¨¡å—ã€‚è¯¦æƒ…å¯é˜…è¯»ï¼š"),n("a",{attrs:{href:"https://babeljs.io/docs/en/babel-plugin-transform-runtime#why",target:"_blank",rel:"noopener noreferrer"}},[t._v("why babel-transfrom-runtime"),n("OutboundLink")],1)]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-loader"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" modules"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stage-2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transform-runtime"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("img",{attrs:{src:a(234),alt:"polyfill"}})]),t._v(" "),n("p",[t._v("å…³äº Tree-Shaking çš„é—®é¢˜åœ¨å“ªé‡Œï¼Ÿ")]),t._v(" "),n("p",[t._v("å½“ä½ çš„é¡¹ç›®ä¸­æœ‰æ··ç”¨ ESModule å’Œ CommonJSModule çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½è§¦å‘ä¸€ä¸ªé…ç½®å†²çªé—®é¢˜ã€‚åœ¨è¯´æ˜è¿™ä¸ªé—®é¢˜ä¹‹é—´æˆ‘ä»¬å‰ç½®ä¸¤ä¸ªæŠ€æœ¯ç‚¹ï¼š")]),t._v(" "),n("ol",[n("li",[t._v("ä¸Šé¢æåˆ°ï¼Œbabel-transfrom-runtime ä¼šå¾€éœ€è¦ polyfill çš„æ¨¡å—ä¸­ "),n("strong",[t._v("å¯¼å…¥")]),t._v(" polyfillä»£ç ã€‚")]),t._v(" "),n("li",[t._v("ç°ä»£JSç¼–è¯‘å™¨ï¼Œå¯¹äºJSæ¨¡å—çš„è§£æï¼Œå¦‚æœä»£ç ä¸­å‡ºç° import æˆ–è€… exportï¼Œå®ƒå°±è¢«å½“ä½œ ESModuleã€‚åœ¨ ESModule ä¸­ module æ˜¯ä¿ç•™å­—ï¼Œä¸å…è®¸ä»»ä½•æ“ä½œï¼Œæ¯”å¦‚"),n("code",[t._v("module.exports = xxx")]),t._v("ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š")])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("// "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" terminal wepack error: jsæ¨¡å—é”™è¯¯å¯¼è‡´æ¨¡å—è§£æé”™è¯¯\nWARNING "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" ./index.js\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'promise'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imported as "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CommonJSModule'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" was not found "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./cjs.js'")]),t._v("\n\n// "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" browser "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),t._v(" js error: å…·ä½“jsé”™è¯¯\nCannot assign to "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("read")]),t._v(" only property "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'exports'")]),t._v(" of object "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#<Object>'")]),t._v("\n")])])]),n("p",[t._v("å½“æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œtransform-runtime"),n("strong",[t._v("å¾€CommonJSæ¨¡å—ä¸­importå¯¼å…¥polyfill")]),t._v("ï¼Œå°±ä¼šå‡ºç°ä¸Šé¢çš„é”™è¯¯ï¼š")]),t._v(" "),n("ol",[n("li",[t._v("ä½¿ç”¨4.2ä¸­æ‰€ç¤ºçš„Babelé…ç½®: "),n("code",[t._v("modules:false && babel-plugin-transform-runtime")])]),t._v(" "),n("li",[t._v("åœ¨ESModuleä¸­å¯¼å…¥CommonJSModuleçš„è¡Œä¸º")]),t._v(" "),n("li",[t._v("CommonJSModuleä¸­æœ‰éœ€è¦polyfillçš„ä»£ç ï¼ˆå¦‚ä½¿ç”¨ES6 classè¯­æ³•ï¼‰")])]),t._v(" "),n("p",[t._v("åˆ†æç»“æœæ˜¯cjså’Œesæ··ç”¨çš„é¡¹ç›®ä¸­ï¼Œç›´æ¥é…ç½®"),n("code",[t._v("modules:false")]),t._v("å’Œ"),n("code",[t._v("babel-plugin-transform-runtime")]),t._v("æ˜¯æœ‰å†²çªçš„")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("å¦‚æœä»…æœ‰"),n("code",[t._v("module:false")]),t._v("ï¼Œtransform-runtimeå¾€CommonJSModuleä¸­å¯¼å…¥polyfillä¼šä½¿ç”¨reqireçš„æ–¹å¼ï¼Œä¸ä¼šæŠ¥é”™ã€‚ä½†æ˜¯ä¼šå¯¼è‡´å…¶å®ƒESModuleåœ¨webpackä¸­çš„ Tree-Shaking å¤±æ•ˆğŸ˜¢")])]),t._v(" "),n("li",[n("p",[t._v("å¦‚æœä»…æœ‰transform-runtimeï¼Œå°±ä¸ä¼šæœ‰æœ‰polyfillå¯¼å…¥ï¼ŒCommonJSModule åŸæ ·è¾“å‡ºï¼Œè¢«webpackå½“ä½œ CommonJS æ¨¡å—ï¼Œä¸ä¼šæŠ¥é”™ã€‚ä½†æ˜¯æ²¡æœ‰ transform-runtimeï¼Œæƒ³ä½¿ç”¨æ–°çš„è¯­æ³•å°±å¾—ç”¨\bå…¨å±€å¯¼å…¥ babel-polyfill çš„æ–¹å¼ğŸ˜¢")])])]),t._v(" "),n("p",[n("img",{attrs:{src:a(235),alt:"harmony-import"}})]),t._v(" "),n("p",[t._v("è§£å†³ä¹‹æ³•æ˜¯é’ˆå¯¹ESModuleå’ŒCommonJSæ¨¡å—åˆ†åˆ«é…ç½®babelå¤„ç†çš„æ–¹å¼ï¼Œè¯¦æƒ…è§"),n("a",{attrs:{href:"https://github.com/babel/babel/issues/9238",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel/issues/9238"),n("OutboundLink")],1)]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("rules"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    test"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/cjs\\.js$/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    use"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-loader"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        options"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" modules"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commonjs"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stage-2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transform-runtime"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            cacheDirectory"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// CommonJSè§„èŒƒçš„ä½¿ç”¨sourceType: "script"')]),t._v("\n            sourceType"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    test"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/(es|index)\\.js$/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    use"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-loader"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        options"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"env"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" modules"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stage-2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"transform-runtime"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// ESè§„èŒƒçš„ä½¿ç”¨sourceType: "module"ï¼ˆé»˜è®¤å€¼ï¼‰')]),t._v("\n            sourceType"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),n("p",[n("em",[t._v("// babel@7.xä¸­å¯ä»¥åˆå¹¶é…ç½®")])]),t._v(" "),n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("rules"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        test"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\.js$/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/node_modules/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        use"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                loader"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                options"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    presets"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/preset-env'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" modules"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/plugin-transform-runtime'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// babel@7æ–°å¢unambiguous")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// transform-runtimeå¯ä»¥è‡ªåŠ¨è¯†åˆ«æ¨¡å—ç±»å‹ï¼Œæ ¹æ®æ¨¡å—ç±»å‹ä½¿ç”¨ä¸åŒçš„â€œå¯¼å…¥â€")]),t._v("\n                    sourceType"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unambiguous"')]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n")])])]),n("h2",{attrs:{id:"äº”ã€tree-shaking-å’Œ-sideeffectï¼Œé”¦ä¸Šæ·»èŠ±"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#äº”ã€tree-shaking-å’Œ-sideeffectï¼Œé”¦ä¸Šæ·»èŠ±"}},[t._v("#")]),t._v(" äº”ã€Tree-Shaking å’Œ SideEffectï¼Œé”¦ä¸Šæ·»èŠ±")]),t._v(" "),n("p",[t._v("SideEffect æ˜¯ webpack@v4 çš„é‡è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œæ˜¯ Tree-Shaking çš„é‡è¦è¡¥å……ï¼Œå¯ä»¥è®© webpack æ›´å¥½åœ°è¿›è¡Œæ— ç”¨ä»£ç çš„å‰¥ç¦»ã€‚")]),t._v(" "),n("p",[t._v("å³ä½¿ä¾èµ–çš„npmåŒ…çš„ package.json ä¸­æ²¡æœ‰æ ‡è®° sideEffectsï¼ŒTree-Shaking è¿‡ç¨‹ä¸­ä¹Ÿä¼šåˆ©ç”¨"),n("a",{attrs:{href:"https://github.com/terser-js/terser",target:"_blank",rel:"noopener noreferrer"}},[t._v("terser"),n("OutboundLink")],1),t._v("æ¥åˆ†ææ¨¡ä¸­çš„å‰¯ä½œç”¨æ¥åˆ¤æ–­å“ªäº›ä»£ç å¯ä»¥ä¼˜åŒ–æ‰ã€‚ç„¶è€Œå› ä¸ºJSè¯­è¨€å¤©ç”Ÿçš„åŠ¨æ€æ€§ï¼Œterserå¯¹å‰¯ä½œç”¨çš„åˆ¤æ–­å¾ˆéš¾åšåˆ°éå¸¸å‡†ç¡®ï¼Œå¤šæ•°æƒ…å†µä¸‹å®ƒçš„å·¥ä½œè¿˜æ˜¯è¡¨ä¿å®ˆã€‚å› æ­¤éœ€è¦ç¼–å†™npmåŒ…çš„ä½œè€…è‡ªå·±æ¥å®šä¹‰è‡ªå·±åŒ…ä¸­çš„å‰¯ä½œç”¨ã€‚")]),t._v(" "),n("p",[n("em",[t._v('"å‰¯ä½œç”¨"å®šä¹‰æ˜¯ï¼šå¯¼å…¥æ—¶å°±æ‰§è¡Œçš„ç‰¹å®šè¡Œä¸ºçš„ä»£ç ï¼Œè€Œä¸æ˜¯é»˜è®¤å¯¼å‡ºæˆ–å¤šä¸ªå‘½åå¯¼å‡ºã€‚ä¸€ä¸ªå…¸å‹ä¾‹å­æ˜¯polyfillsï¼Œå®ƒä¼šå½±å“å…¨å±€ï¼Œä½†é€šå¸¸ä¸åœ¨æ¨¡å—ä¸­å¯¼å‡ºã€‚')])]),t._v(" "),n("p",[t._v("æ¯”å¦‚æˆ‘ä»¬ç¼–å†™äº†1ä¸ªButtonç»„ä»¶ï¼Œå¹¶å‡†å¤‡å‘å¸ƒnpmåŒ…ã€‚å¦‚æœç¡®è®¤è¯¥åŒ…ä¸‹æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨çš„ä»£ç ï¼Œå°±å¯ä»¥åœ¨ packeage.json æ ‡è®° sideEffects ä¸ºfalseã€‚webpackåœ¨å¤„ç†è¯¥æ¨¡å—æ—¶ï¼Œä¼šå¿½ç•¥æ‰€æœ‰éå¯¼å‡ºçš„å†…å®¹ã€‚")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@my-ui/Button"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sideEffects"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("å†æ¯”å¦‚æˆ‘ä»¬ç¼–å†™äº†1ä¸ªLayoutç»„ä»¶ï¼Œå¹¶å‡†å¤‡å‘å¸ƒnpmåŒ…ã€‚å¦‚æœç¡®è®¤è¯¥åŒ…ä¸‹æŸä¸ªæœªè¢«å¼•ç”¨çš„ reset.css æœ‰å…¨å±€ä½œç”¨ï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Œå°±å¯ä»¥åœ¨ packeage.json è®¾ç½® sideEffects å€¼ä¸ºè¯¥cssæ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚webpack åœ¨å¤„ç†è¯¥æ¨¡å—æ—¶ï¼Œä¼šå¿½ç•¥éå¯¼å‡ºçš„å†…å®¹ï¼Œè€Œè¯¥ reset.css è¿˜ä¼šè¢«æ‰“åŒ…è¿›æ¥ã€‚")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@my-ui/Button"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sideEffects"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./reset.css"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("æ›´å¤šå¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š"),n("a",{attrs:{href:"https://webpack.js.org/guides/tree-shaking/#clarifying-tree-shaking-and-sideeffects",target:"_blank",rel:"noopener noreferrer"}},[t._v("clarifying-tree-shaking-and-sideeffects"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"å…­ã€tree-shaking-å’Œ-sourcemapï¼Œæˆ‘å…¨éƒ½è¦"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…­ã€tree-shaking-å’Œ-sourcemapï¼Œæˆ‘å…¨éƒ½è¦"}},[t._v("#")]),t._v(" å…­ã€Tree-Shaking å’Œ SourceMapï¼Œæˆ‘å…¨éƒ½è¦")]),t._v(" "),n("p",[t._v("æœ‰åŒå­¦è¦é—®äº†ï¼šå¦‚æœ Tree-Shaking æŠŠæ— ç”¨ä»£ç åˆ é™¤åï¼Œè¿˜èƒ½åœ¨SourceMap å¸®åŠ©ä¸‹çœ‹åˆ°ç›¸å…³çš„æºç å—ï¼Ÿ")]),t._v(" "),n("p",[t._v("ç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼š")]),t._v(" "),n("p",[n("img",{attrs:{src:a(236),alt:"source-map"}})]),t._v(" "),n("h2",{attrs:{id:"ä¸ƒã€webé¡¹ç›®ä¸­ä½¿ç”¨tree-shakingçš„å®è·µå»ºè®®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ƒã€webé¡¹ç›®ä¸­ä½¿ç”¨tree-shakingçš„å®è·µå»ºè®®"}},[t._v("#")]),t._v(" ä¸ƒã€webé¡¹ç›®ä¸­ä½¿ç”¨Tree-Shakingçš„å®è·µå»ºè®®")]),t._v(" "),n("h3",{attrs:{id:"_1-énodeä½“ç³»çš„ä»£ç å°½é‡ä½¿ç”¨esmodule"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-énodeä½“ç³»çš„ä»£ç å°½é‡ä½¿ç”¨esmodule"}},[t._v("#")]),t._v(" 1. éNodeä½“ç³»çš„ä»£ç å°½é‡ä½¿ç”¨ESModule")]),t._v(" "),n("p",[t._v("CommonJSModule çš„åŠ¨æ€æ€§å’Œ ESModule çš„é™æ€ç‰¹æ˜¯å®é™…åº”ç”¨ä¸­å¹³è¡¡å–èˆçš„å½¢æˆçš„ï¼Œæ²¡ç»å¯¹çš„å¥½åã€‚å½“ç„¶ï¼Œå¦‚æœä½ çš„æ¨¡å—åªåœ¨webç«¯ä½¿ç”¨ï¼ˆæ— nodeçš„åº”ç”¨åœºæ™¯ï¼‰ï¼Œä¸”æ²¡æœ‰ç”¨åˆ°åŠ¨æ€å¯¼å…¥ã€æ¡ä»¶å¯¼å…¥çš„ç‰¹æ€§ï¼Œå»ºè®®ä½¿ç”¨ ESModule è§„èŒƒæ¥æ¨¡å—åŒ–ä½ çš„ä»£ç ã€‚")]),t._v(" "),n("h3",{attrs:{id:"_2-ç¼–å†™-esmodule-ä»£ç ï¼Œæœ‰å¤šä¸ªéå¼ºè€¦åˆçš„å¯¼å‡ºå†…å®¹æ—¶ï¼Œå°½é‡ä½¿ç”¨å‘½åå¯¼å‡º-æŒ‰éœ€å¯¼å…¥"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç¼–å†™-esmodule-ä»£ç ï¼Œæœ‰å¤šä¸ªéå¼ºè€¦åˆçš„å¯¼å‡ºå†…å®¹æ—¶ï¼Œå°½é‡ä½¿ç”¨å‘½åå¯¼å‡º-æŒ‰éœ€å¯¼å…¥"}},[t._v("#")]),t._v(" 2. ç¼–å†™ ESModule ä»£ç ï¼Œæœ‰å¤šä¸ªéå¼ºè€¦åˆçš„å¯¼å‡ºå†…å®¹æ—¶ï¼Œå°½é‡ä½¿ç”¨å‘½åå¯¼å‡º/æŒ‰éœ€å¯¼å…¥")]),t._v(" "),n("h3",{attrs:{id:"_3-babel-é…ç½®ä¸­å¯¹-commonjs-æ¨¡å—ç‰¹æ®Šé…ç½®ï¼Œæ³¨æ„babel-6å’Œbable-7çš„åŒºåˆ«"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-babel-é…ç½®ä¸­å¯¹-commonjs-æ¨¡å—ç‰¹æ®Šé…ç½®ï¼Œæ³¨æ„babel-6å’Œbable-7çš„åŒºåˆ«"}},[t._v("#")]),t._v(" 3. Babel é…ç½®ä¸­å¯¹ CommonJS æ¨¡å—ç‰¹æ®Šé…ç½®ï¼Œæ³¨æ„babel@6å’Œbable@7çš„åŒºåˆ«")]),t._v(" "),n("h3",{attrs:{id:"_4-webpack-4ä½“ç³»ä¸­ï¼Œå¦‚æœæ˜¯å…¬å¸å†…éƒ¨çš„npmæ¨¡å—ï¼Œæ˜ç¡®æ— å‰¯ä½œç”¨çš„ï¼Œæ ‡è®°-sideeffects"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-webpack-4ä½“ç³»ä¸­ï¼Œå¦‚æœæ˜¯å…¬å¸å†…éƒ¨çš„npmæ¨¡å—ï¼Œæ˜ç¡®æ— å‰¯ä½œç”¨çš„ï¼Œæ ‡è®°-sideeffects"}},[t._v("#")]),t._v(" 4. webpack@4ä½“ç³»ä¸­ï¼Œå¦‚æœæ˜¯å…¬å¸å†…éƒ¨çš„npmæ¨¡å—ï¼Œæ˜ç¡®æ— å‰¯ä½œç”¨çš„ï¼Œæ ‡è®° sideEffects")])])}),[],!1,null,null,null);s.default=e.exports}}]);